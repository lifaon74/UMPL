<%
var f = function () {
	if($compiler.loop >= 1000) {
		throw { message: "end of prog after " + $compiler.loop + " loops. output code :\n\n" + $compiler.jsCode }
	}
	
	$buffer.push(
		"<\%\n" +
			"var f = " + f.toString() + ";f();" +
		"\n%\>"
	);
};f();
%>